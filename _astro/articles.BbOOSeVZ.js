import{u as N,j as e,m as l}from"./useToast.XjAM-NvS.js";import{r as i}from"./index.DKFHPYfo.js";import{S as v}from"./SocialLinksRow.DaX1rKH9.js";import{a as x,y as w,w as k,v as C,s as S,f as E,o as L}from"./obs.w7ujHk_X.js";import"./constants.DAZaEOQE.js";const I=[...new Set(x.map(s=>s.category))],u=new Map;x.forEach(s=>s.tags.forEach(r=>u.set(r,(u.get(r)??0)+1)));const U=Array.from(u.entries()).sort((s,r)=>r[1]-s[1]||s[0].localeCompare(r[0])).slice(0,12).map(([s])=>s);function F(){const{toast:s}=N(),[r,p]=i.useState(x),[o,g]=i.useState(null),[n,m]=i.useState(null),[d,h]=i.useState(""),[b,f]=i.useState(0);i.useEffect(()=>{let a=!1;const t=()=>{a||(a=!0,requestAnimationFrame(()=>{const c=document.documentElement.scrollHeight-document.documentElement.clientHeight,y=window.scrollY;f(c>0?y/c*100:0),a=!1}))};return window.addEventListener("scroll",t,{passive:!0}),t(),()=>window.removeEventListener("scroll",t)},[]),i.useEffect(()=>{let a=x;if(o&&(a=a.filter(t=>t.category===o)),n&&(a=a.filter(t=>t.tags.includes(n))),d){const t=d.toLowerCase();a=a.filter(c=>c.title.toLowerCase().includes(t)||c.excerpt.toLowerCase().includes(t)||c.tags.some(y=>y.toLowerCase().includes(t)))}p(a),a.length===0&&s("没有找到匹配的文章")},[o,n,d,s]);const j=()=>{g(null),m(null),h("")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-300",children:[e.jsx(l.div,{className:"fixed top-0 left-0 h-1 bg-blue-500 z-50",style:{width:`${b}%`}}),e.jsx("section",{className:"py-12 md:py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx(l.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl md:text-5xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"技术文章"}),e.jsx(l.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-gray-600 dark:text-gray-300 text-lg",children:"分享前端开发的知识、技巧和最佳实践"})]})})}),e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"搜索文章标题、内容或标签...",value:d,onChange:a=>h(a.target.value),className:"w-full px-5 py-3 rounded-lg border bg-white border-gray-200 placeholder-gray-400 dark:bg-gray-800 dark:border-gray-700 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"}),e.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-500","aria-label":"搜索",children:e.jsx("i",{className:"fa-solid fa-search"})})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-8",children:[e.jsxs(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"分类"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>g(null),className:`px-3 py-1 rounded-full text-sm ${o===null?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700"} transition-colors`,children:"全部"}),I.map(a=>e.jsx("button",{onClick:()=>g(a),className:`px-3 py-1 rounded-full text-sm ${o===a?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700"} transition-colors`,children:a},a))]})]}),e.jsxs(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"标签"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>m(null),className:`px-3 py-1 rounded-full text-sm ${n===null?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700"} transition-colors`,children:"全部"}),U.map(a=>e.jsx("button",{onClick:()=>m(a),className:`px-3 py-1 rounded-full text-sm ${n===a?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700"} transition-colors`,children:a},a))]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(a=>e.jsxs(l.a,{href:`/articles/${a.id}`,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"rounded-xl overflow-hidden shadow-sm bg-transparent border border-gray-200 dark:bg-gray-800 dark:border-gray-700 card-hover",children:[e.jsx("img",{src:a.id===1?w:a.id===2?k:a.id===3?C:a.id===4?S:a.id===5?E:a.id===6?L:a.imageUrl,alt:a.title,className:"w-full h-40 object-cover",loading:"lazy",decoding:"async",width:16,height:9}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-blue-500 font-medium",children:a.category}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(a.date).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})})]}),e.jsx("h3",{className:"text-lg font-bold mb-2",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:a.excerpt}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.slice(0,3).map(t=>e.jsxs("span",{className:"px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-xs",children:["#",t]},t))})]})]},a.id))}),(o||n||d)&&e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:j,className:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"清除筛选"})})]})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"联系我"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"如果你有任何问题或合作意向，欢迎随时联系我！"}),e.jsx(v,{})]})})})]})}export{F as ArticlesIsland};
