import{u as j,j as e,m as s}from"./useToast.XjAM-NvS.js";import{r}from"./index.DKFHPYfo.js";import{S as N}from"./SocialLinksRow.DaX1rKH9.js";import{a as d,y as v,w,v as k,s as S}from"./Suno.CtV6Tigj.js";import{f as C}from"./flow.w6Q_Hfst.js";import"./constants.DAZaEOQE.js";const E=[...new Set(d.map(l=>l.category))],L=[...new Set(d.flatMap(l=>l.tags))];function D(){const{toast:l}=j(),[u,h]=r.useState(d),[i,x]=r.useState(null),[o,g]=r.useState(null),[c,y]=r.useState(""),[p,b]=r.useState(0);r.useEffect(()=>{let a=!1;const t=()=>{a||(a=!0,requestAnimationFrame(()=>{const n=document.documentElement.scrollHeight-document.documentElement.clientHeight,m=window.scrollY;b(n>0?m/n*100:0),a=!1}))};return window.addEventListener("scroll",t,{passive:!0}),t(),()=>window.removeEventListener("scroll",t)},[]),r.useEffect(()=>{let a=d;if(i&&(a=a.filter(t=>t.category===i)),o&&(a=a.filter(t=>t.tags.includes(o))),c){const t=c.toLowerCase();a=a.filter(n=>n.title.toLowerCase().includes(t)||n.excerpt.toLowerCase().includes(t)||n.tags.some(m=>m.toLowerCase().includes(t)))}h(a),a.length===0&&l("没有找到匹配的文章")},[i,o,c,l]);const f=()=>{x(null),g(null),y("")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-300",children:[e.jsx(s.div,{className:"fixed top-0 left-0 h-1 bg-blue-500 z-50",style:{width:`${p}%`}}),e.jsx("section",{className:"py-12 md:py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx(s.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl md:text-5xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"技术文章"}),e.jsx(s.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-gray-600 dark:text-gray-300 text-lg",children:"分享前端开发的知识、技巧和最佳实践"})]})})}),e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"搜索文章标题、内容或标签...",value:c,onChange:a=>y(a.target.value),className:"w-full px-5 py-3 rounded-lg border bg-white border-gray-200 placeholder-gray-400 dark:bg-gray-800 dark:border-gray-700 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"}),e.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-500","aria-label":"搜索",children:e.jsx("i",{className:"fa-solid fa-search"})})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-8",children:[e.jsxs(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"分类"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>x(null),className:`px-3 py-1 rounded-full text-sm ${i===null?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700"} transition-colors`,children:"全部"}),E.map(a=>e.jsx("button",{onClick:()=>x(a),className:`px-3 py-1 rounded-full text-sm ${i===a?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700"} transition-colors`,children:a},a))]})]}),e.jsxs(s.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"标签"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>g(null),className:`px-3 py-1 rounded-full text-sm ${o===null?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700"} transition-colors`,children:"全部"}),L.map(a=>e.jsx("button",{onClick:()=>g(a),className:`px-3 py-1 rounded-full text-sm ${o===a?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700"} transition-colors`,children:a},a))]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(a=>e.jsxs(s.a,{href:`/articles/${a.id}`,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"rounded-xl overflow-hidden shadow-sm bg-transparent border border-gray-200 dark:bg-gray-800 dark:border-gray-700 card-hover",children:[e.jsx("img",{src:a.id===1?v:a.id===2?w:a.id===3?k:a.id===4?S:a.id===5?C:a.imageUrl,alt:a.title,className:"w-full h-40 object-cover",loading:"lazy",decoding:"async",width:16,height:9}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-blue-500 font-medium",children:a.category}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(a.date).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})})]}),e.jsx("h3",{className:"text-lg font-bold mb-2",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:a.excerpt}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map(t=>e.jsxs("span",{className:"px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-xs",children:["#",t]},t))})]})]},a.id))}),(i||o||c)&&e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:f,className:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"清除筛选"})})]})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"联系我"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"如果你有任何问题或合作意向，欢迎随时联系我！"}),e.jsx(N,{})]})})})]})}export{D as ArticlesIsland};
